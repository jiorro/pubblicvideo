<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jiorro Video Manager</title>
  <style>
    /* Tema scuro + dettagli verde fosforescente */
    body { margin:0; background:#0a0a0b; color:#e9e9ed; font-family:system-ui,sans-serif; }
    .topbar { position:fixed; top:0; left:0; right:0; height:64px; display:flex; justify-content:space-between; align-items:center; padding:0 18px; background:#111; border-bottom:1px solid #2a2f38; }
    .lens-btn { width:44px; height:44px; border-radius:12px; background:#141519; border:1px solid #2a2f38; color:#00ff88; font-size:20px; cursor:pointer; }
    .section { padding-top:96px; min-height:100vh; }
    .hidden { display:none; }
    .panel { background:#141519; border:1px solid #2a2f38; border-radius:12px; padding:20px; }
    .pill { display:inline-block; padding:4px 8px; border-radius:999px; background:#202025; color:#9aa0ab; border:1px solid #2a2f38; font-size:13px; margin:2px; }
    .cards { display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:14px; margin-top:12px; }
    .card { background:#141519; border:1px solid #2a2f38; padding:10px; border-radius:12px; }
    .card video { width:100%; border-radius:8px; background:black; border:2px solid #00ff88; box-shadow:0 0 12px #00ff88; }
    .title { font-weight:600; }
    .views { color:#9aa0ab; font-size:13px; }
    table.admin-grid { width:100%; border-collapse:collapse; margin-top:12px; }
    table.admin-grid th, table.admin-grid td { padding:10px; border-top:1px solid #2a2f38; }
    .modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.55); }
    .modal.show { display:flex; }
    .modal-panel { width:92%; max-width:680px; background:#141519; border:1px solid #2a2f38; padding:18px; border-radius:12px; }
    .progress { height:8px; border-radius:999px; background:#111; margin-top:8px; overflow:hidden; }
    .progress > i { display:block; height:100%; width:0; background:linear-gradient(90deg,#6fa8ff,#00ff88); }
    .admin-anchor { position:fixed; left:12px; bottom:12px; display:flex; flex-direction:column; gap:8px; }
    .admin-btn { width:44px; height:44px; border-radius:999px; background:#141519; border:1px solid #2a2f38; display:flex; align-items:center; justify-content:center; color:#00ff88; font-size:18px; cursor:pointer; }
    .admin-input { width:220px; padding:8px; border-radius:10px; border:1px solid #2a2f38; background:#141519; color:#e9e9ed; }
  </style>
</head>
<body>
  <!-- Navbar -->
  <header class="topbar">
    <div>Jiorro Video Manager</div>
    <button id="lensBtn" class="lens-btn">üîç</button>
  </header>

  <!-- Home -->
  <main id="homeSection" class="section">
    <div class="panel">
      <h1>La regione di Canaan</h1>
      <p>Importa, cerca, riproduci e gestisci i tuoi video. Admin completo, upload con progress e tracking views.</p>
      <ul class="pill-list">
        <li class="pill">Import automatico</li>
        <li class="pill">Ricerca client</li>
        <li class="pill">Upload con progress</li>
        <li class="pill">Admin completo</li>
      </ul>
    </div>
  </main>

  <!-- Video -->
  <section id="videoSection" class="section hidden">
    <div class="panel">
      <button id="backHome">üè† Home</button>
      <button id="openUpload">‚¨ÜÔ∏è Carica</button>
      <input id="searchVideos" placeholder="Cerca video" />
      <div id="videoContainer" class="cards"></div>
    </div>
  </section>

  <!-- Admin -->
  <section id="adminSection" class="section hidden">
    <div class="panel">
      <h2>üîß Admin</h2>
      <table class="admin-grid">
        <thead><tr><th>Anteprima</th><th>Titolo</th><th>Views</th><th>Stato</th><th>Azioni</th></tr></thead>
        <tbody id="adminBody"></tbody>
      </table>
    </div>
  </section>

  <!-- Upload Modal -->
  <div id="uploadModal" class="modal">
    <div class="modal-panel">
      <h3>Carica Video</h3>
      <input id="videoFile" type="file" accept="video/*" />
      <input id="videoTitle" placeholder="Titolo (opzionale)" />
      <input id="overlaySrc" placeholder="Overlay source (opzionale)" />
      <div class="progress"><i id="uploadProgress"></i></div>
      <button id="uploadBtn">Carica</button>
      <button id="closeUpload">Chiudi</button>
      <div id="uploadStatus"></div>
    </div>
  </div>

  <!-- Admin Anchor -->
  <div class="admin-anchor">
    <button id="adminAnchorBtn" class="admin-btn">üîë</button>
    <div id="adminInputWrap" style="display:none">
      <input id="adminInput" class="admin-input" placeholder="Password admin" />
      <button id="adminSubmit">Sblocca</button>
      <button id="adminToHome">Home</button>
      <button id="adminToVideo">Video</button>
    </div>
  </div>

  <!-- Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const homeSection=document.getElementById('homeSection');
      const videoSection=document.getElementById('videoSection');
      const adminSection=document.getElementById('adminSection');
      const lensBtn=document.getElementById('lensBtn');
      const backHome=document.getElementById('backHome');
      const openUploadBtn=document.getElementById('openUpload');
      const uploadModal=document.getElementById('uploadModal');
      const closeUploadBtn=document.getElementById('closeUpload');
      const uploadBtn=document.getElementById('uploadBtn');
      const adminAnchorBtn=document.getElementById('adminAnchorBtn');
      const adminInputWrap=document.getElementById('adminInputWrap');
      const adminInput=document.getElementById('adminInput');
      const adminSubmit=document.getElementById('adminSubmit');

      // Navigazione sezioni
      lensBtn.addEventListener('click', () => {
        homeSection.classList.add('hidden');
        videoSection.classList.remove('hidden');
        adminSection.classList.add('hidden');
      });
      backHome.addEventListener('click', () => {
        homeSection.classList.remove('hidden');
        videoSection.classList.add('hidden');
        adminSection.classList.add('hidden');
      });

      // Upload modal
      openUploadBtn.addEventListener('click', () => uploadModal.classList.add('show'));
      closeUploadBtn.addEventListener('click', () => uploadModal.classList.remove('show'));
      uploadBtn.addEventListener('click', () => alert("Simulazione upload completata"));

      // Admin unlock
      adminAnchorBtn.addEventListener('click', () => {
        adminInputWrap.style.display = adminInputWrap.style.display === 'flex' ? 'none' : 'flex';
      });
      adminSubmit.addEventListener('click', () => {
        if (adminInput.value === 'JIORR0CON$=LE') {
          homeSection.classList.add('hidden');
          videoSection.classList.add('hidden');
          adminSection.classList.remove('hidden');
        } else {
          alert("Password errata");
        }
      });

      // Tasto J ‚Üí Wikipedia
      window.addEventListener
