<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jiorro Video â€” Upload, Admin & Overlay J</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar" aria-label="Navbar">
    <div>Jiorro Video Manager</div>
    <button id="lensBtn" class="lens-btn" aria-controls="videoSection" aria-expanded="false" title="Apri sezione video">ğŸ”</button>
  </header>

  <div id="statusEl" class="status" role="status" aria-live="polite"></div>

  <!-- Home -->
  <main id="homeSection" class="section" aria-label="Home">
    <div class="panel">
      <h1>La regione di Canaan</h1>
      <p>Importa automaticamente i video da Cloudinary, cerca, riproduci, testa upload e usa il tasto J per aprire un link.</p>
      <ul style="list-style:none;padding:0;display:flex;flex-wrap:wrap">
        <li class="pill">Import automatico</li>
        <li class="pill">Runtime .webm â†’ .mp4</li>
        <li class="pill">Ricerca client</li>
        <li class="pill">Upload preset / fallback</li>
        <li class="pill">Diagnostica URL</li>
      </ul>
    </div>
  </main>

  <!-- Video -->
  <section id="videoSection" class="section hidden" aria-label="Sezione video">
    <div class="video-container">
      <div class="video-toolbar panel" role="toolbar" aria-label="Strumenti video">
        <button id="openUpload" class="btn" aria-controls="uploadModal" aria-expanded="false">â¬†ï¸ Carica</button>
        <input id="searchVideos" class="input" placeholder="Cerca video per titolo o URL" aria-label="Cerca video" />
        <button id="backHome" class="btn">ğŸ  Home</button>
      </div>
      <div id="videoContainer" class="cards" aria-live="polite" aria-busy="false"></div>
    </div>
  </section>

  <!-- Admin -->
  <section id="adminSection" class="section hidden" aria-label="Admin">
    <div class="panel">
      <h2>ğŸ”§ Pannello amministrazione</h2>
      <table class="admin-grid" id="adminGrid">
        <thead><tr><th>Anteprima</th><th>Titolo</th><th>Views</th><th>Stato</th><th>Azioni</th></tr></thead>
        <tbody id="adminBody"></tbody>
      </table>
    </div>
  </section>

  <!-- Upload modal -->
  <div id="uploadModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="uploadTitle">
    <div class="modal-panel" role="document">
      <h3 id="uploadTitle">Upload Video</h3>
      <input id="videoFile" type="file" accept="video/*" />
      <input id="videoTitle" class="input" placeholder="Titolo (opzionale)" />
      <input id="overlaySrc" class="input" placeholder="Overlay source (opzionale)" />
      <div class="progress"><i id="uploadProgress"></i></div>
      <div class="actions">
        <button id="uploadBtn" class="btn">Carica</button>
        <button id="closeUpload" class="btn">Chiudi</button>
      </div>
      <div id="uploadStatus" class="status-line"></div>
    </div>
  </div>

  <!-- Admin anchor -->
  <div class="admin-anchor" aria-label="Admin anchor">
    <button id="adminAnchorBtn" class="admin-btn" title="Sblocca admin">ğŸ”‘</button>
    <div id="adminInputWrap" class="admin-input-wrap" aria-hidden="true">
      <input id="adminInput" class="admin-input" placeholder="Password admin" />
      <button id="adminSubmit" class="btn">Sblocca</button>
      <button id="adminToHome" class="btn">Home</button>
      <button id="adminToVideo" class="btn">Video</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>

